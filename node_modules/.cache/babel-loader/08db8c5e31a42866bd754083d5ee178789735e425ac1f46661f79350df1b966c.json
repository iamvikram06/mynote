{"ast":null,"code":"import _objectSpread from\"E:/Projects/mynote/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NoteEditor(_ref){let{note,onChange,onUpdateTags}=_ref;const[title,setTitle]=useState(note.title);const[content,setContent]=useState(note.content);const[tagInput,setTagInput]=useState(\"\");const isInitialMount=useRef(true);useEffect(()=>{setTitle(note.title);setContent(note.content);},[note.id]);useEffect(()=>{if(isInitialMount.current){isInitialMount.current=false;return;}const next=_objectSpread(_objectSpread({},note),{},{title,content});onChange(next);},[title,content]);const addTag=()=>{const t=tagInput.trim();if(!t)return;const nextTags=Array.from(new Set([...(note.tags||[]),t]));onUpdateTags(nextTags);setTagInput(\"\");};const removeTag=t=>{const nextTags=(note.tags||[]).filter(x=>x!==t);onUpdateTags(nextTags);};return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg border border-slate-200 dark:border-slate-800 p-3 md:p-4\",children:[/*#__PURE__*/_jsx(\"input\",{value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Title\",className:\"w-full bg-transparent text-lg md:text-xl font-semibold outline-none placeholder:text-slate-400\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{value:tagInput,onChange:e=>setTagInput(e.target.value),placeholder:\"Add tag and press Enter\",onKeyDown:e=>{if(e.key===\"Enter\"){e.preventDefault();addTag();}},className:\"flex-1 rounded-md border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-slate-400\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addTag,className:\"text-xs px-2 py-1 rounded-md border border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-900\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 flex flex-wrap gap-1\",children:(note.tags||[]).map(t=>/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] px-1.5 py-0.5 rounded-full border border-slate-200 dark:border-slate-800\",children:[\"#\",t,/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeTag(t),className:\"ml-1 text-[10px] text-slate-500 hover:underline\",children:\"x\"})]},t))}),/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:e=>setContent(e.target.value),placeholder:\"Start typing...\",className:\"mt-3 w-full min-h-[50vh] resize-none bg-transparent outline-none text-sm md:text-base leading-6\"})]});}export default NoteEditor;","map":{"version":3,"names":["React","useEffect","useState","useRef","jsx","_jsx","jsxs","_jsxs","NoteEditor","_ref","note","onChange","onUpdateTags","title","setTitle","content","setContent","tagInput","setTagInput","isInitialMount","id","current","next","_objectSpread","addTag","t","trim","nextTags","Array","from","Set","tags","removeTag","filter","x","className","children","value","e","target","placeholder","onKeyDown","key","preventDefault","onClick","map"],"sources":["E:/Projects/mynote/src/components/NoteEditor.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\n\r\nfunction NoteEditor({ note, onChange, onUpdateTags }) {\r\n  const [title, setTitle] = useState(note.title);\r\n  const [content, setContent] = useState(note.content);\r\n  const [tagInput, setTagInput] = useState(\"\");\r\n  const isInitialMount = useRef(true);\r\n\r\n  useEffect(() => {\r\n    setTitle(note.title);\r\n    setContent(note.content);\r\n  }, [note.id]);\r\n\r\n  useEffect(() => {\r\n    if (isInitialMount.current) {\r\n      isInitialMount.current = false;\r\n      return;\r\n    }\r\n    const next = { ...note, title, content };\r\n    onChange(next);\r\n  }, [title, content]);\r\n\r\n  const addTag = () => {\r\n    const t = tagInput.trim();\r\n    if (!t) return;\r\n    const nextTags = Array.from(new Set([...(note.tags || []), t]));\r\n    onUpdateTags(nextTags);\r\n    setTagInput(\"\");\r\n  };\r\n\r\n  const removeTag = (t) => {\r\n    const nextTags = (note.tags || []).filter((x) => x !== t);\r\n    onUpdateTags(nextTags);\r\n  };\r\n\r\n  return (\r\n    <div className=\"rounded-lg border border-slate-200 dark:border-slate-800 p-3 md:p-4\">\r\n      <input\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n        placeholder=\"Title\"\r\n        className=\"w-full bg-transparent text-lg md:text-xl font-semibold outline-none placeholder:text-slate-400\"\r\n      />\r\n      <div className=\"mt-2 flex items-center gap-2\">\r\n        <input\r\n          value={tagInput}\r\n          onChange={(e) => setTagInput(e.target.value)}\r\n          placeholder=\"Add tag and press Enter\"\r\n          onKeyDown={(e) => {\r\n            if (e.key === \"Enter\") {\r\n              e.preventDefault();\r\n              addTag();\r\n            }\r\n          }}\r\n          className=\"flex-1 rounded-md border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 px-2 py-1 text-xs focus:outline-none focus:ring-2 focus:ring-slate-400\"\r\n        />\r\n        <button\r\n          onClick={addTag}\r\n          className=\"text-xs px-2 py-1 rounded-md border border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-900\"\r\n        >\r\n          Add\r\n        </button>\r\n      </div>\r\n      <div className=\"mt-2 flex flex-wrap gap-1\">\r\n        {(note.tags || []).map((t) => (\r\n          <span\r\n            key={t}\r\n            className=\"text-[10px] px-1.5 py-0.5 rounded-full border border-slate-200 dark:border-slate-800\"\r\n          >\r\n            #{t}\r\n            <button\r\n              onClick={() => removeTag(t)}\r\n              className=\"ml-1 text-[10px] text-slate-500 hover:underline\"\r\n            >\r\n              x\r\n            </button>\r\n          </span>\r\n        ))}\r\n      </div>\r\n      <textarea\r\n        value={content}\r\n        onChange={(e) => setContent(e.target.value)}\r\n        placeholder=\"Start typing...\"\r\n        className=\"mt-3 w-full min-h-[50vh] resize-none bg-transparent outline-none text-sm md:text-base leading-6\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NoteEditor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}